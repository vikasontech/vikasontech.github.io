<!DOCTYPE html>
<html lang="en">

  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">

    <meta name="author" content="Vikas Verma">
    <meta name="description" content="Vikas&#39;s personal website">
    <meta name="keywords" content="Blogger, Developer, Scurm Master">

    <meta name="twitter:card" content="summary"/>
<meta name="twitter:title" content="Setup Keycloak with Docker"/>
<meta name="twitter:description" content="Introduction of Keycloak AAA"/>

    <meta property="og:title" content="Setup Keycloak with Docker" />
<meta property="og:description" content="Introduction of Keycloak AAA" />
<meta property="og:type" content="article" />
<meta property="og:url" content="https://vikasontech.github.io/posts/setup-keycloak-with-docker/" />
<meta property="article:published_time" content="2018-11-18T11:49:10+07:00" />
<meta property="article:modified_time" content="2018-11-18T11:49:10+07:00" />


    
      <base href="https://vikasontech.github.io/posts/setup-keycloak-with-docker/">
    
    <title>
  Setup Keycloak with Docker · Vikas Blogs
</title>

    
      <link rel="canonical" href="https://vikasontech.github.io/posts/setup-keycloak-with-docker/">
    

    <link href="https://fonts.googleapis.com/css?family=Lato:400,700%7CMerriweather:300,700%7CSource+Code+Pro:400,700&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="https://use.fontawesome.com/releases/v5.13.0/css/all.css" integrity="sha384-Bfad6CLCknfcloXFOyFnlgtENryhrpZCe29RTifKEixXQZ38WheV+i/6YWSzkz3V" crossorigin="anonymous">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/normalize/8.0.1/normalize.min.css" integrity="sha256-l85OmPOjvil/SOvVt3HnSSjzF1TUMyT9eV0c2BzEGzU=" crossorigin="anonymous" />

    
      
      
      <link rel="stylesheet" href="https://vikasontech.github.io/css/coder.min.a4f332213a21ce8eb521670c614470c58923aaaf385e2a73982c31dd7642decb.css" integrity="sha256-pPMyITohzo61IWcMYURwxYkjqq84XipzmCwx3XZC3ss=" crossorigin="anonymous" media="screen" />
    

    

    

    

    

    

    <link rel="icon" type="image/png" href="https://vikasontech.github.io/img/favicon-32x32.png" sizes="32x32">
    <link rel="icon" type="image/png" href="https://vikasontech.github.io/img/favicon-16x16.png" sizes="16x16">

    <meta name="generator" content="Hugo 0.69.1" />
  </head>

  
  
  <body class="colorscheme-light">
    <main class="wrapper">
      <nav class="navigation">
  <section class="container">
    <a class="navigation-title" href="https://vikasontech.github.io/">
      Vikas Blogs
    </a>
    
    <input type="checkbox" id="menu-toggle" />
    <label class="menu-button float-right" for="menu-toggle"><i class="fas fa-bars"></i></label>
    <ul class="navigation-list">
      
        
          <li class="navigation-item">
            <a class="navigation-link" href="https://vikasontech.github.io/posts/">Blogs</a>
          </li>
        
          <li class="navigation-item">
            <a class="navigation-link" href="https://vikasontech.github.io/about/">About</a>
          </li>
        
      
      
    </ul>
    
  </section>
</nav>


      <div class="content">
        
  <section class="container post">
    <article>
      <header>
        <div class="post-title">
          <h1 class="title">Setup Keycloak with Docker</h1>
        </div>
        <div class="post-meta">
          <div class="date">
            <span class="posted-on">
              <i class="fas fa-calendar"></i>
              <time datetime='2018-11-18T11:49:10&#43;07:00'>
                November 18, 2018
              </time>
            </span>
            <span class="reading-time">
              <i class="fas fa-clock"></i>
              3-minute read
            </span>
          </div>
          <div class="categories">
  <i class="fas fa-folder"></i>
    <a href="https://vikasontech.github.io/categories/technical/">Technical</a></div>

          <div class="tags">
  <i class="fas fa-tag"></i>
    <a href="https://vikasontech.github.io/tags/keycloak/">keycloak</a>
      <span class="separator">•</span>
    <a href="https://vikasontech.github.io/tags/docker/">docker</a>
      <span class="separator">•</span>
    <a href="https://vikasontech.github.io/tags/setup/">setup</a></div>

        </div>
      </header>

      <div>
        
        <p><strong>Introduction of Keycloak</strong></p>
<p>Open Source Identity and Access Management For Modern Applications and
Services. It add authentication to applications and secure services with
minimum fuss. No need to deal with storing users or authenticating
users. It&rsquo;s all available out of the box.</p>
<p>You&rsquo;ll even get advanced features such as User Federation, Identity
Brokering and Social Login.</p>
<p><strong>Prerequisites:</strong></p>
<ul>
<li>Docker:</li>
</ul>
<p>Since we are using Docker to install Keycloak; it should be installed on
your machine. If it is not you can download and install it from the link
given below, it’s pretty straight forward.</p>
<ul>
<li><a href="https://docs.docker.com/docker-for-mac/">Mac/Linux</a></li>
<li><a href="https://docs.docker.com/docker-for-windows/install/">Windows</a></li>
</ul>
<p><strong>Create docker compose file</strong></p>
<p>We use keycloak with mysql database to persist the user data. Use the
below docker-compose.yml file to pull and start the docker server
docker-compose.yml</p>
<script type="application/javascript" src="https://gist.github.com/vikasontech/24c4ca4ec051b0ad22a912f19807a06a.js"></script>

<p>In docker compose file we povide default user name and password for the
keycloak use and described in the docker hub for the keycloak image. Our
mysql and keycloak server are running on the docker network
“Keycloak-network”. Start keycloak and mysql server</p>
<p>Run docker-compose up command on the terminal, once the server up you
can see the output as below -</p>
<p><img src="https://1.bp.blogspot.com/-YjgKqAuohoQ/W_-ZIs5DHbI/AAAAAAAAkRo/ZLgbb5qaDrY0Pol1uuei7rrlqVUhXwjNACEwYBhgL/s320/Screen%2BShot%2B2561-11-29%2Bat%2B14.44.31.png" alt="image"></p>
<p>Go the browser and type the url - http: //localhost:9001 Note: remember
we expose the port in the docker-compose file</p>
<p><img src="https://lh3.googleusercontent.com/XF8uOYI14dqFc6ns-PLgc_ewrxjIfryAwHofSAFKVA-dWe2FWzQ5Csu-24PAtvTszqOOXD_PZBSG5RtI4yH7JqAxvgCe-GhoGbnfV2b-xTZ0gpTd_KgDF1oAnw5UthP2WfLHfzOV" alt="image"></p>
<p>You can now login keycloak from the username and password you provided
in docker-compose file. In our case we use username admin and password
also admin</p>
<p><img src="https://lh5.googleusercontent.com/fBLFQeZcVyS_khIBWcdkQQCS_XutZeIhoW8XfCQDpOEovXz63dqaHpqWF80l4HYi7BhhqtGgPv9bsGlIv3dXqG0b3LMDhV6hcRawFpWizRdMdYSdCNq2CKUl8MMbmYp7R3GDvhrm" alt="image"></p>
<p>After login you will see the default realm master as below -</p>
<p><img src="https://lh3.googleusercontent.com/pzoH0ZM1x4QcdbP_MjoNYtOyCIWtrHHFg_WVBd3AwKFuSOxxakNMtbGFxPUX_k-Mb12VeCehREtpN1Bi9ME1Bp7_fs9pZbDt01_0k9S509CBTwumb5oo92eEcwjkzdNaQnbn3LOC" alt="image"></p>
<p><strong>Core concept and terms of keycloak -</strong></p>
<p><strong>Realms:</strong></p>
<p>A realm manages a set of users, credentials, roles, and groups. A user
belongs to and logs into a realm. Realms are isolated from one another
and can only manage and authenticate the users that they control.</p>
<p><strong>Groups:</strong></p>
<p>Groups manage groups of users. Attributes can be defined for a group.
You can map roles to a group as well. Users that become members of a
group inherit the attributes and role mappings that group defines.</p>
<p><strong>Clients:</strong></p>
<p>Clients are entities that can request Keycloak to authenticate a user.
Most often, clients are applications and services that want to use
Keycloak to secure themselves and provide a single sign-on solution.
Clients can also be entities that just want to request identity
information or an access token so that they can securely invoke other
services on the network that are secured by Keycloak.</p>
<p><strong>Client scopes:</strong></p>
<p>When a client is registered, you must define protocol mappers and role
scope mappings for that client. It is often useful to store a client
scope, to make creating new clients easier by sharing some common
settings. This is also useful for requesting some claims or roles to be
conditionally based on the value of scope parameter. Keycloak provides
the concept of a client scope for this.</p>
<p><strong>Client role:</strong></p>
<p>Clients can define roles that are specific to them. This is basically a
role namespace dedicated to the client.</p>
<p><strong>Identity token:</strong></p>
<p>A token that provides identity information about the user. Part of the
OpenID Connect specification. You can get more details about this terms
here !</p>
<p><strong>Conclusion:</strong></p>
<p>In this blog we learn how to setup keycloak using docker, in next blog
we will create an application and secure it using keycloak.</p>
<p><strong>Reference https:</strong></p>
<p><a href="https://www.keycloak.org/docs/latest/getting_started/index.html">https://www.keycloak.org/docs/latest/getting_started/index.html</a></p>
<p><a href="https://www.keycloak.org/docs/latest/server_admin/index.html">https://www.keycloak.org/docs/latest/server_admin/index.html</a></p>

      </div>


      <footer>
        


        
        
        
      </footer>
    </article>

    
  </section>

      </div>

      
  <footer class="footer">
    <section class="container">
      
      
        ©
        
        2020
         Vikas Verma 
      
      
      
    </section>
  </footer>

    </main>

    

    

  </body>

</html>
